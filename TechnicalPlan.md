#                                       技术方案

#### 一.1. **功能概述**

账号注册与登录是系统中最基础的用户管理功能，主要用于验证用户身份并提供个性化服务。以下是实现账号注册与登录的核心技术思路。

------

#### 一.2. **技术架构**

- **前端**：负责接收用户输入（用户名、密码等），并通过HTTP请求将数据发送到后端。
- **后端**：处理业务逻辑，包括数据校验、数据库操作以及返回结果。
- **数据库**：存储用户信息（如用户名、密码、UID等），通常使用关系型数据库（如MySQL）或非关系型数据库（如MongoDB）。

------

#### 一.3. **注册功能技术思路**（参考）[https://blog.csdn.net/weixin_44043758/article/details/118367899]

##### （1）前端交互

- 用户在注册页面输入用户名和密码。
- 前端对输入数据进行初步校验（如用户名长度、密码复杂度等）。
- 将数据通过`POST`请求发送到后端接口（如`/user/register`）。

##### （2）后端逻辑

- 数据校验：
  - 检查用户名是否已存在（调用`UserDao.findByUname`方法）。
  - 如果用户名已存在，返回错误提示（如“用户名已存在”）。
- 数据存储：
  - 如果用户名可用，将用户数据保存到数据库中（调用`UserDao.save`方法）。
  - 在保存时，确保密码经过加密处理（如使用`BCrypt`算法）以提高安全性。
- 返回结果：
  - 注册成功时，返回包含用户信息的成功响应（如`Result.success(user)`）。
  - 注册失败时，返回错误信息（如`Result.error("456", "用户名已存在！")`）。

##### （3）数据库操作

- 使用JPA（Java Persistence API）框架操作数据库。
- 定义`User`实体类，并通过注解映射到数据库表。

------

#### 一.4. **登录功能技术思路**

##### （1）前端交互

- 用户在登录页面输入用户名和密码。
- 前端对输入数据进行初步校验（如检查是否为空）。
- 将数据通过`POST`请求发送到后端接口。

##### （2）后端逻辑

- 数据校验：
  - 根据用户名和密码查询数据库（调用`UserDao.findByUnameAndPassword`方法）。
  - 如果查询结果为空，说明用户名或密码错误，返回错误提示（如“账号或密码错误”）。
- 返回结果：
  - 登录成功时，返回用户信息（如`Result.success(user, "登录成功！")`），并将敏感信息（如密码）置空。
  - 登录失败时，返回错误信息（如`Result.error("123", "账号或密码错误！")`）。

------

#### 二.1. **功能概述**

完成了用户与AI聊天的API开发，知识管理系统的开发，问答缓存功能的开发。

#### 二.2.技术架构

基本同上

#### 二.3.遇到的问题

#####  （1）页面显示404：

请求 URL: http://localhost:8080/api/knowledge/add 

请求方法: POST 状态代码: 404 Not Found 

远程地址: [::1]:8080 引用站点策略: strict-origin-when-cross-origin

**分析问题：**前后端接口经常不匹配，导致无法接受数据

#####  （2）页面显示402：

分成两种情况：1.后端config类没有正确配置。2.缓存问题

Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback. Tue Mar 04 09:13:16 CST 2025 There was an unexpected error (type=Not Found, status=404).

缓存问题尝试多种解决方案仍然报错，最终发现网页浏览器会自动缓存之前的内容，代码没有错误

![浏览器缓存问题](C:\Users\神绮游星\Desktop\ps\浏览器缓存问题.png)

此错误debug至少花费了一半小时。

#### 二.4.中间件
